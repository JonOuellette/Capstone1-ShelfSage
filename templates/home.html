{% extends "base.html" %}

{% block content %}
    <h1>Welcome to Shelf Sage</h1>

    <form method="POST" action="/search" class="mt-4">
        {{ form.hidden_tag() }}

        <!-- Search Query Field -->
        <div class="form-group row">
            {{ form.search_query.label(class="col-sm-2 col-form-label") }}
            <div class="col-sm-10">
                {{ form.search_query(class="form-control") }}
            </div>
        </div>
        
        <!-- Search Type Field -->
        <div class="form-group row">
            {{ form.search_type.label(class="col-sm-2 col-form-label") }}
            <div class="col-sm-10">
                {{ form.search_type(class="form-control") }}
            </div>
        </div>
        
        <!-- Submit Button -->
        <div class="form-group row">
            <div class="col-sm-10 offset-sm-2">
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </div>
    </form>
    

    {% if random_books %}
    <div class="container vh-100 d-flex align-items-center">
        <!-- Adding margin-top for additional spacing -->
        <div class="row justify-content-center" style="margin-top: 2vh;"> <!-- Reduced the margin-top value -->
            <!-- Book cards -->
            {% for book in random_books %}
            <div class="col mb-4">
                <!-- Existing card structure remains unchanged -->
                <div class="card h-100">
                    <!-- Book image -->
                    {% if book.volumeInfo.imageLinks and book.volumeInfo.imageLinks.thumbnail %}
                    <img src="{{ book.volumeInfo.imageLinks.thumbnail }}" class="card-img-top" alt="{{ book.volumeInfo.title }}" style="height: 200px; object-fit: cover;">
                    {% else %}
                    <div class="card-img-top bg-secondary" style="height: 200px;">No image available</div>
                    {% endif %}
                    <!-- Card content -->
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title mb-2">{{ book.volumeInfo.title }}</h5>
                        {% if book.volumeInfo.subtitle %}
                        <p class="card-text mt-auto"><small class="text-muted">{{ book.volumeInfo.subtitle }}</small></p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

{% endblock %}








